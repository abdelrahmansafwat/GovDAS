(this["webpackJsonpgovdas-frontend"]=this["webpackJsonpgovdas-frontend"]||[]).push([[0],{158:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return je}));var n=a(40),r=a.n(n),i=a(78),c=a(63),o=a(7),s=a(69),l=a(2),d=a(0),u=a.n(d),j=a(4),b=a(38),p=a(250),h=a(257),O=a(259),m=a(182),x=a(181),g=a(106),f=a(41),v=a(79),y=a(42),w=a(249),C=a(73),S=a(248),N=a(161),k=a.n(N),B=a(163),D=a.n(B),T=a(56),q=a(89),R=a(65),W=a(162),P=a.n(W),E=a(165),I=a.n(E),U=a(167),A=a.n(U),L=a(166),F=a.n(L),V=a(159),_=a(121),M=a(179),z=a(178),H=a(253),Y=a(177),G=a(32),J=a(75),K=a(170),X=a(122),Q=a(164),Z=a.n(Q),$=a(46),ee=a(168),te=a.n(ee),ae=a(169),ne=a(24),re=a(258),ie=a(254),ce=a(68),oe=a(113),se={palette:{type:"light"}},le={palette:{type:"dark"}},de=u.a.forwardRef((function(e,t){return Object(l.jsx)(K.a,Object(s.a)({direction:"up",ref:t},e))}));function ue(){return Object(l.jsxs)(f.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(l.jsx)(S.a,{color:"inherit",href:"http://www.eelu.edu.eg/",children:"National Egyptian E-Learning University"})," ",(new Date).getFullYear(),"."]})}function je(){var t=Object(b.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(s.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(c.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"hidden",flexDirection:"column",height:"75vh"},fixedHeight:{height:240},datagrid:{},dflex:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"}}}))(),a=u.a.useState(!0),n=Object(o.a)(a,2),S=n[0],N=n[1],B=Object(d.useState)(""),W=Object(o.a)(B,2),E=W[0],U=W[1],L=Object(d.useState)([]),K=Object(o.a)(L,2),Q=K[0],ee=K[1],je=Object(d.useState)(!1),be=Object(o.a)(je,2),pe=be[0],he=be[1],Oe=Object(d.useState)(!1),me=Object(o.a)(Oe,2),xe=me[0],ge=me[1],fe=Object(d.useState)(!1),ve=Object(o.a)(fe,2),ye=ve[0],we=ve[1],Ce=Object(d.useState)(!1),Se=Object(o.a)(Ce,2),Ne=Se[0],ke=Se[1],Be=Object(d.useState)({}),De=Object(o.a)(Be,2),Te=De[0],qe=De[1],Re=Object(d.useState)(""),We=Object(o.a)(Re,2),Pe=We[0],Ee=We[1],Ie=Object(d.useState)(""),Ue=Object(o.a)(Ie,2),Ae=Ue[0],Le=Ue[1],Fe=Object(d.useState)(""),Ve=Object(o.a)(Fe,2),_e=Ve[0],Me=Ve[1],ze=Object(d.useState)(new Date),He=Object(o.a)(ze,2),Ye=He[0],Ge=He[1],Je=Object(d.useState)([]),Ke=Object(o.a)(Je,2),Xe=Ke[0],Qe=Ke[1],Ze=Object(d.useState)(!1),$e=Object(o.a)(Ze,2),et=$e[0],tt=$e[1],at=Object(d.useState)(!1),nt=Object(o.a)(at,2),rt=nt[0],it=nt[1],ct=Object(d.useState)(!1),ot=Object(o.a)(ct,2),st=ot[0],lt=ot[1],dt=Object(d.useState)(!1),ut=Object(o.a)(dt,2),jt=ut[0],bt=ut[1],pt=Object(d.useState)("Add"),ht=Object(o.a)(pt,2),Ot=ht[0],mt=ht[1],xt=Object(d.useState)({}),gt=Object(o.a)(xt,2),ft=gt[0],vt=gt[1],yt=Object(d.useState)(""),wt=Object(o.a)(yt,2),Ct=wt[0],St=wt[1],Nt=Object(d.useState)(!1),kt=Object(o.a)(Nt,2),Bt=kt[0],Dt=kt[1],Tt=Object(d.useState)(!0),qt=Object(o.a)(Tt,2),Rt=qt[0],Wt=qt[1],Pt=Object(ce.a)(Rt?se:le),Et=[{field:"id",headerName:"ID",width:70,filterable:!1},{field:"title",headerName:"Title",width:130},{field:"issuedby",headerName:"Issued By",width:130},{field:"summary",headerName:"Summary",width:130},{field:"date",headerName:"Date",type:"date",width:130},{field:"viewButton",headerName:"View",width:130,disableClickEventBubbling:!0,filterable:!1,sortable:!1,renderCell:function(t){var a=t.row.id,n=function(){var t=Object(i.a)(r.a.mark((function t(){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Viewing decision #"+a),n=Q[a-1],t.next=4,oe.get("/api/retrieve_decisions/image/"+n.image,{responseType:"arraybuffer"}).then((function(t){return n.imageBase64="data:;base64,"+e.from(t.data,"binary").toString("base64")}));case 4:qe(n),ge(!0);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(l.jsx)(G.a,{variant:"contained",onClick:function(){return n()},children:"View"})}},{field:"updateButton",headerName:"Update",width:130,disableClickEventBubbling:!0,sortable:!1,filterable:!1,renderCell:function(e){var t=function(){var t=Object(i.a)(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Ee(e.row.title),Le(e.row.summary),Qe(e.row.tags),Me(e.row.issuedby),Ge(e.row.date),mt("Update"),tt(!1),it(!1),bt(!1),lt(!1),we(!0);case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(l.jsx)(G.a,{variant:"contained",color:"primary",onClick:function(){return t()},children:"Update"})}},{field:"deleteButton",headerName:"Delete",width:130,disableClickEventBubbling:!0,sortable:!1,filterable:!1,renderCell:function(e){var t=e.row.id,a=function(){var e=Object(i.a)(r.a.mark((function e(){var a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("Viewing decision #"+t),a=Q[t-1],n=Q,oe.post("/api/upload_decisions/delete",{_id:a._id,oldimage:a.image}).then((function(e){console.log(e),console.log(n.length),n.splice(t-1,1),console.log(n.length),ee(n)})).catch((function(e){console.log(e),e&&(U("An error occured. Please try again."),he(!0))}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(l.jsx)(G.a,{variant:"contained",color:"secondary",onClick:function(){return a()},children:"Delete"})}}],It=function(){var e=Object(i.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return oe.create({baseURL:window.location.origin}),e.next=3,oe.get("/api/retrieve_decisions/all").then((function(e){var t=e.data.decisions;t.forEach((function(e,a){t[a].id=a+1,t[a].date=new Date(t[a].date).toLocaleDateString(),t[a].updateButton=Object(l.jsx)(G.a,{variant:"contained",color:"primary",children:"Update"})})),console.log(t),ee(t)})).catch((function(e){console.log(e),he(!0),U("An error occured. Please try again.")}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return function(){var e=Object(i.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Ne){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,It();case 4:ke(!0);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),Object(l.jsx)(ie.a,{theme:Pt,children:Object(l.jsxs)("div",{className:t.root,children:[Object(l.jsx)(p.a,{}),Object(l.jsx)(m.a,{position:"absolute",className:Object(j.a)(t.appBar,S&&t.appBarShift),children:Object(l.jsxs)(x.a,{className:t.toolbar,children:[Object(l.jsx)(y.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:function(){N(!0)},className:Object(j.a)(t.menuButton,S&&t.menuButtonHidden),children:Object(l.jsx)(k.a,{})}),Object(l.jsx)(f.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:t.title,children:"Dashboard"}),Object(l.jsx)(y.a,{color:"inherit",onClick:function(){return Wt(!Rt)},children:Object(l.jsx)(P.a,{})})]})}),Object(l.jsxs)(h.a,{variant:"permanent",classes:{paper:Object(j.a)(t.drawerPaper,!S&&t.drawerPaperClose)},open:S,children:[Object(l.jsx)("div",{className:t.toolbarIcon,children:Object(l.jsx)(y.a,{onClick:function(){N(!1)},children:Object(l.jsx)(D.a,{})})}),Object(l.jsx)(v.a,{}),Object(l.jsx)(g.a,{children:Object(l.jsxs)("div",{children:[Object(l.jsxs)(T.a,{button:!0,onClick:function(e){e.preventDefault(),e.stopPropagation(),It()},children:[Object(l.jsx)(q.a,{children:Object(l.jsx)(Z.a,{})}),Object(l.jsx)(R.a,{primary:"Refresh"})]}),Object(l.jsxs)(T.a,{button:!0,onClick:function(e){e.preventDefault(),e.stopPropagation(),Ee(""),Le(""),Qe([]),Me(""),Ge(new Date),mt("Add"),tt(!1),it(!1),bt(!1),lt(!1),we(!0)},children:[Object(l.jsx)(q.a,{children:Object(l.jsx)(I.a,{})}),Object(l.jsx)(R.a,{primary:"Add Decision"})]})]})}),Object(l.jsx)(v.a,{}),Object(l.jsx)(g.a,{children:Object(l.jsxs)("div",{children:[Object(l.jsxs)(T.a,{button:!0,children:[Object(l.jsx)(q.a,{children:Object(l.jsx)(F.a,{})}),Object(l.jsx)(R.a,{primary:"User"})]}),Object(l.jsxs)(T.a,{button:!0,onClick:function(e){e.preventDefault(),e.stopPropagation(),$.a.push("/login")},children:[Object(l.jsx)(q.a,{children:Object(l.jsx)(A.a,{})}),Object(l.jsx)(R.a,{primary:"Logout"})]})]})})]}),Object(l.jsxs)("main",{className:t.content,children:[Object(l.jsx)("div",{className:t.appBarSpacer}),Object(l.jsxs)(w.a,{maxWidth:"lg",className:t.container,children:[Object(l.jsx)(C.a,{className:t.paper,children:Object(l.jsx)(V.a,{rows:Q,columns:Et,pageSize:5,checkboxSelection:!0,className:t.datagrid,showToolbar:!0,filterModel:{items:[{columnField:"title",operatorValue:"contains",value:""}]}})}),Object(l.jsx)(O.a,{pt:4,children:Object(l.jsx)(ue,{})})]}),Object(l.jsxs)(_.a,{open:pe,TransitionComponent:de,keepMounted:!0,onClose:function(){return he(!1)},"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[Object(l.jsx)(Y.a,{id:"alert-dialog-slide-title",children:"Error"}),Object(l.jsx)(z.a,{children:Object(l.jsx)(H.a,{id:"alert-dialog-slide-description",children:E})}),Object(l.jsx)(M.a,{children:Object(l.jsx)(G.a,{onClick:function(){return he(!1)},color:"primary",children:"Close"})})]}),Object(l.jsxs)(_.a,{fullScreen:!0,open:xe,onClose:function(){return ge(!1)},TransitionComponent:de,children:[Object(l.jsx)(m.a,{className:t.appBar,children:Object(l.jsxs)(x.a,{children:[Object(l.jsx)(y.a,{edge:"start",color:"inherit",onClick:function(){return ge(!1)},"aria-label":"close",children:Object(l.jsx)(te.a,{})}),Object(l.jsx)(f.a,{variant:"h6",className:t.title,children:"View Decision"})]})}),Object(l.jsxs)(g.a,{children:[Object(l.jsx)("img",{alt:"decision",src:Te.imageBase64}),Object(l.jsx)(T.a,{button:!0,children:Object(l.jsx)(R.a,{primary:"Title",secondary:Te.title})}),Object(l.jsx)(v.a,{}),Object(l.jsx)(T.a,{button:!0,children:Object(l.jsx)(R.a,{primary:"Issued By",secondary:Te.issuedby})}),Object(l.jsx)(v.a,{}),Object(l.jsx)(T.a,{button:!0,children:Object(l.jsx)(R.a,{primary:"Summary",secondary:Te.summary})}),Object(l.jsx)(v.a,{}),Object(l.jsx)(T.a,{button:!0,children:Object(l.jsx)(R.a,{primary:"Date",secondary:Te.date})}),Object(l.jsx)(v.a,{})]})]}),Object(l.jsxs)(_.a,{open:ye,onClose:function(){return we(!1)},"aria-labelledby":"form-dialog-title",children:[Object(l.jsx)(Y.a,{id:"form-dialog-title",children:Ot}),Object(l.jsxs)(z.a,{children:[Object(l.jsx)(J.a,{error:et,value:Pe,variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"title",label:"Title",name:"title",autoComplete:"title",helperText:et?"Required":"",onChange:function(e){""===e.target.value?tt(!0):(tt(!1),Ee(e.target.value))},onBlur:function(){""===Pe&&tt(!0)},autoFocus:!0}),Object(l.jsx)(J.a,{error:st,value:_e,variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"issuedby",label:"Issued By",name:"issuedby",autoComplete:"issuedby",helperText:st?"Required":"",onChange:function(e){""===e.target.value?lt(!0):(lt(!1),Me(e.target.value))},onBlur:function(){""===_e&&lt(!0)}}),Object(l.jsx)(J.a,{error:rt,value:Ae,variant:"outlined",margin:"normal",required:!0,fullWidth:!0,multiline:!0,id:"summary",label:"Summary",name:"summary",autoComplete:"summary",helperText:rt?"Required":"",onChange:function(e){""===e.target.value?it(!0):(it(!1),Le(e.target.value))},onBlur:function(){""===Ae&&it(!0)}}),Object(l.jsx)(J.a,{error:jt,value:Xe.join(),variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"tags",label:"Tags",name:"tags",autoComplete:"tags",helperText:jt?"Required":"",onChange:function(e){""===e.target.value?bt(!0):(bt(!1),Qe(e.target.value.split(/(?:,| )+/)))},onBlur:function(){Xe===[]&&Qe(!0)}}),Object(l.jsx)(ne.a,{utils:ae.a,children:Object(l.jsx)(re.a,{disableToolbar:!0,fullWidth:!0,variant:"outlined",margin:"normal",id:"date",label:"Date",value:Ye,onChange:function(e){return Ge(e)},KeyboardButtonProps:{"aria-label":"change date"}})}),Object(l.jsxs)(X.a,{container:!0,direction:"column",spacing:1,className:t.dflex,children:[Object(l.jsx)(X.a,{item:!0,xs:9,children:Object(l.jsx)(J.a,{error:Bt,value:Ct,variant:"outlined",margin:"normal",required:!0,fullWidth:!0,disabled:!0,id:"image",label:"Image",name:"image",helperText:Bt?"Required":"",onChange:function(e){""===e.target.value?Dt(!0):Dt(!1)}})}),Object(l.jsxs)(X.a,{item:!0,xs:3,children:[Object(l.jsx)("input",{accept:"image/*",className:t.input,id:"contained-button-file",type:"file",style:{display:"none"},onChange:function(e){vt(e.target.files[0]),St(e.target.files[0].name)}}),Object(l.jsx)("label",{htmlFor:"contained-button-file",children:Object(l.jsx)(G.a,{variant:"contained",color:"primary",component:"span",fullWidth:!0,children:"Browse"})})]})]})]}),Object(l.jsxs)(M.a,{children:[Object(l.jsx)(G.a,{onClick:function(){return we(!1)},variant:"contained",children:"Cancel"}),Object(l.jsx)(G.a,{onClick:function(){var e=new FormData;e.append("file",ft),e.append("title",Pe),e.append("summary",Ae),e.append("tags",Xe),e.append("issuedby",_e),e.append("date",Ye),oe.create({baseURL:window.location.origin}),oe.post("/api/upload_decisions/new",e).then((function(e){console.log(e),we(!1)})).catch((function(e){console.log(e),e&&(U("An error occured. Please try again."),he(!0))}))},color:"primary",variant:"contained",children:Ot})]})]})]})]})})}}).call(this,a(237).Buffer)},246:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a(0),i=a.n(r),c=a(14),o=a.n(c),s=a(116),l=a(83),d=a(84),u=a(105),j=a(104),b=a(18),p=a(7),h=a(69),O=a(290),m=a(32),x=a(250),g=a(75),f=a(252),v=a(184),y=a(248),w=a(122),C=a(259),S=a(101),N=a.n(S),k=a(41),B=a(38),D=a(249),T=a(121),q=a(179),R=a(178),W=a(253),P=a(177),E=a(170),I=a(46),U=a(113),A=i.a.forwardRef((function(e,t){return Object(n.jsx)(E.a,Object(h.a)({direction:"up",ref:t},e))}));function L(){return Object(n.jsxs)(k.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(n.jsx)(y.a,{color:"inherit",href:"http://www.eelu.edu.eg/",children:"National Egyptian E-Learning University"})," ",(new Date).getFullYear(),"."]})}var F=Object(B.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function V(){var e=F(),t=Object(r.useState)(""),a=Object(p.a)(t,2),i=a[0],c=a[1],o=Object(r.useState)(""),s=Object(p.a)(o,2),l=s[0],d=s[1],u=Object(r.useState)(!1),j=Object(p.a)(u,2),b=j[0],h=j[1],S=Object(r.useState)(!1),B=Object(p.a)(S,2),E=B[0],V=B[1],_=Object(r.useState)(!1),M=Object(p.a)(_,2),z=M[0],H=M[1],Y=Object(r.useState)(""),G=Object(p.a)(Y,2),J=G[0],K=G[1];return Object(n.jsxs)(D.a,{component:"main",maxWidth:"xs",children:[Object(n.jsx)(x.a,{}),Object(n.jsxs)("div",{className:e.paper,children:[Object(n.jsx)(O.a,{className:e.avatar,children:Object(n.jsx)(N.a,{})}),Object(n.jsx)(k.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(n.jsxs)("form",{className:e.form,noValidate:!0,children:[Object(n.jsx)(g.a,{error:b,variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",helperText:b?"Required":"",onChange:function(e){""===e.target.value?h(!0):(h(!1),c(e.target.value))},onBlur:function(){""===i&&h(!0)},autoFocus:!0}),Object(n.jsx)(g.a,{error:E,variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",helperText:E?"Required":"",onChange:function(e){""===e.target.value?V(!0):(V(!1),d(e.target.value))},onBlur:function(){""===l&&V(!0)},autoComplete:"current-password"}),Object(n.jsx)(f.a,{control:Object(n.jsx)(v.a,{value:"remember",color:"primary"}),label:"Remember me"}),Object(n.jsx)(m.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,onClick:function(e){e.preventDefault(),e.stopPropagation(),i&&l?(U.create({baseURL:window.location.origin}),U.post("/api/user/login",{email:i,password:l}).then((function(e){console.log(e),I.a.push("/dashboard")})).catch((function(e){console.log(e),"Request failed with status code 401"===e.message?(K("Wrong email/password."),H(!0),h(!0),d(!0)):K("An error occured. Please try again.")}))):(K("Please fill all required fields."),H(!0))},children:"Sign In"}),Object(n.jsxs)(T.a,{open:z,TransitionComponent:A,keepMounted:!0,onClose:function(){return H(!1)},"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[Object(n.jsx)(P.a,{id:"alert-dialog-slide-title",children:"Error"}),Object(n.jsx)(R.a,{children:Object(n.jsx)(W.a,{id:"alert-dialog-slide-description",children:J})}),Object(n.jsx)(q.a,{children:Object(n.jsx)(m.a,{onClick:function(){return H(!1)},color:"primary",children:"Close"})})]}),Object(n.jsxs)(w.a,{container:!0,children:[Object(n.jsx)(w.a,{item:!0,xs:!0,children:Object(n.jsx)(y.a,{href:"#",variant:"body2",children:"Forgot password?"})}),Object(n.jsx)(w.a,{item:!0,children:Object(n.jsx)(y.a,{href:"#",variant:"body2",onClick:function(){return I.a.push("/register")},children:"Don't have an account? Sign Up"})})]})]})]}),Object(n.jsx)(C.a,{mt:8,children:Object(n.jsx)(L,{})})]})}var _=a(113),M=i.a.forwardRef((function(e,t){return Object(n.jsx)(E.a,Object(h.a)({direction:"up",ref:t},e))}));function z(){return Object(n.jsxs)(k.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(n.jsx)(y.a,{color:"inherit",href:"http://www.eelu.edu.eg/",children:"National Egyptian E-Learning University"})," ",(new Date).getFullYear(),"."]})}var H=Object(B.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}));function Y(){var e=H(),t=Object(r.useState)(""),a=Object(p.a)(t,2),i=a[0],c=a[1],o=Object(r.useState)(""),s=Object(p.a)(o,2),l=s[0],d=s[1],u=Object(r.useState)(""),j=Object(p.a)(u,2),b=j[0],h=j[1],f=Object(r.useState)(""),v=Object(p.a)(f,2),S=v[0],B=v[1],E=Object(r.useState)(!1),U=Object(p.a)(E,2),A=U[0],L=U[1],F=Object(r.useState)(!1),V=Object(p.a)(F,2),Y=V[0],G=V[1],J=Object(r.useState)(!1),K=Object(p.a)(J,2),X=K[0],Q=K[1],Z=Object(r.useState)(!1),$=Object(p.a)(Z,2),ee=$[0],te=$[1],ae=Object(r.useState)(!1),ne=Object(p.a)(ae,2),re=ne[0],ie=ne[1],ce=Object(r.useState)(""),oe=Object(p.a)(ce,2),se=oe[0],le=oe[1];return Object(n.jsxs)(D.a,{component:"main",maxWidth:"xs",children:[Object(n.jsx)(x.a,{}),Object(n.jsxs)("div",{className:e.paper,children:[Object(n.jsx)(O.a,{className:e.avatar,children:Object(n.jsx)(N.a,{})}),Object(n.jsx)(k.a,{component:"h1",variant:"h5",children:"Register"}),Object(n.jsx)("form",{className:e.form,noValidate:!0,children:Object(n.jsxs)(w.a,{container:!0,spacing:2,children:[Object(n.jsx)(w.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(g.a,{autoComplete:"fname",name:"firstName",variant:"outlined",required:!0,fullWidth:!0,error:X,id:"firstName",label:"First Name",autoFocus:!0,onChange:function(e){""===e.target.value?Q(!0):(Q(!1),h(e.target.value))},onBlur:function(){""===b&&Q(!0)}})}),Object(n.jsx)(w.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(g.a,{variant:"outlined",required:!0,fullWidth:!0,error:ee,id:"lastName",label:"Last Name",name:"lastName",autoComplete:"lname",onChange:function(e){""===e.target.value?te(!0):(te(!1),B(e.target.value))},onBlur:function(){""===S&&te(!0)}})}),Object(n.jsx)(w.a,{item:!0,xs:12,children:Object(n.jsx)(g.a,{variant:"outlined",required:!0,fullWidth:!0,error:A,id:"email",label:"Email Address",name:"email",autoComplete:"email",onChange:function(e){""===e.target.value?L(!0):(L(!1),c(e.target.value))},onBlur:function(){""===i&&L(!0)}})}),Object(n.jsx)(w.a,{item:!0,xs:12,children:Object(n.jsx)(g.a,{variant:"outlined",required:!0,fullWidth:!0,error:Y,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){""===e.target.value?G(!0):(G(!1),d(e.target.value))},onBlur:function(){""===l&&G(!0)}})}),Object(n.jsx)(m.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,onClick:function(e){e.preventDefault(),e.stopPropagation(),i&&l&&b&&S?(_.create({baseURL:window.location.origin}),_.post("/api/user/register",{email:i,password:l,firstName:b,lastName:S}).then((function(e){console.log(e),I.a.push("/dashboard")})).catch((function(e){console.log(e),"Request failed with status code 409"===e.message?(le("Email already exists."),ie(!0),L(!0),d(!0)):le("An error occured. Please try again.")}))):(le("Please fill all required fields."),ie(!0))},children:"Register"}),Object(n.jsxs)(T.a,{open:re,TransitionComponent:M,keepMounted:!0,onClose:function(){return ie(!1)},"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[Object(n.jsx)(P.a,{id:"alert-dialog-slide-title",children:"Error"}),Object(n.jsx)(R.a,{children:Object(n.jsx)(W.a,{id:"alert-dialog-slide-description",children:se})}),Object(n.jsx)(q.a,{children:Object(n.jsx)(m.a,{onClick:function(){return ie(!1)},color:"primary",children:"Close"})})]}),Object(n.jsx)(w.a,{container:!0,justify:"flex-end",children:Object(n.jsx)(w.a,{item:!0,children:Object(n.jsx)(y.a,{href:"#",variant:"body2",onClick:function(){return I.a.push("/login")},children:"Already have an account? Login"})})})]})})]}),Object(n.jsx)(C.a,{mt:5,children:Object(n.jsx)(z,{})})]})}var G=a(158),J=function(e){Object(u.a)(a,e);var t=Object(j.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return Object(n.jsx)(b.b,{history:I.a,children:Object(n.jsxs)(b.c,{children:[Object(n.jsx)(b.a,{path:"/",exact:!0,component:V}),Object(n.jsx)(b.a,{path:"/login",component:V}),Object(n.jsx)(b.a,{path:"/register",component:Y}),Object(n.jsx)(b.a,{path:"/dashboard",component:G.a})]})})}}]),a}(r.Component);o.a.render(Object(n.jsx)(s.a,{children:Object(n.jsx)("div",{className:"App",children:Object(n.jsx)(J,{})})}),document.getElementById("root"))},46:function(e,t,a){"use strict";var n=a(30);t.a=Object(n.a)()}},[[246,1,2]]]);
//# sourceMappingURL=main.72900095.chunk.js.map